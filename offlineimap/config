# version 7.2.0

[general]
# List of accounts to be synced, separated by a comma.
accounts = jhg
pythonfile = ~/config/offlineimap/offlineimap.py

# Controls how many accounts may be synced simultaneously
maxsyncaccounts = 1

[Account jhg]
# Identifier for the local repository; e.g. the maildir to be synced via IMAP.
localrepository = jhg-local
# Identifier for the remote repository; i.e. the actual IMAP, usually non-local.
remoterepository = jhg-remote
postsynchook = /usr/bin/notmuch new
# Minutes between syncs
# autorefresh = 1
# Quick-syncs do not update if the only changes were to IMAP flags.
# these settings describe 10 quick refreshes between each full refresh
# with 1 minute between every refresh, regardless of type
# quick = 10

[Repository jhg-local]
# OfflineIMAP supports Maildir, GmailMaildir, and IMAP for local repositories.
type = Maildir
# Where should the mail be placed?
localfolders = ~/mail/jhg

[Repository jhg-remote]
# Remote repos can be IMAP or Gmail, the latter being a preconfigured IMAP.
type = IMAP
remotehost = imap.fastmail.com
remoteuser = jhg@fastmail.com
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remotepasseval = get_pass()
realdelete = no

# Instead of closing the connection once a sync is complete, send empty data
# to hold the connection open. 120 attempts to hold the connection
# for a minute between syncs. 
# Does nothing if autorefresh and holdconnectionopen are not set
# keepalive = 120
# holdconnectionopen = yes
